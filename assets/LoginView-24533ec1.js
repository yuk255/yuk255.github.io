import{a8 as g,s as _,ae as f,B as V,C as w,a1 as l,O as a,V as p,af as h,Z as m,aa as I,ab as y}from"./index-8d5d6d72.js";import{_ as k,E as x,c as S}from"./_plugin-vue_export-helper-a40b4fae.js";const B=o=>(I("data-v-1d4d18c7"),o=o(),y(),o),C=["onKeydown"],E={class:"content"},N=B(()=>l("div",{class:"title"}," login ",-1)),b={class:"btn"},K={__name:"LoginView",setup(o){const v=g(),t=_(null),s=_(null),i=()=>{!t.value||!s.value||(console.log("login"),$request({url:"/user/login",data:{username:t.value,password:s.value}}).then(r=>{console.log(r);const{id:e,username:n,token:u}=r;localStorage.setItem("token",u);const c={id:e,username:n};localStorage.setItem("userInfo",JSON.stringify(c)),v.replace("/")}))};return(r,e)=>{const n=x,u=S,c=f("router-link");return V(),w("div",{class:"login",onKeydown:h(i,["enter"])},[l("div",E,[N,l("form",null,[a(n,{modelValue:t.value,"onUpdate:modelValue":e[0]||(e[0]=d=>t.value=d),placeholder:"用户名"},null,8,["modelValue"]),a(n,{modelValue:s.value,"onUpdate:modelValue":e[1]||(e[1]=d=>s.value=d),placeholder:"密码","show-password":!0},null,8,["modelValue"]),l("div",b,[a(u,{type:"primary",onClick:i},{default:p(()=>[m("登录")]),_:1})]),a(c,{class:"regist",to:"/regist"},{default:p(()=>[m("去注册？")]),_:1})])])],40,C)}}},U=k(K,[["__scopeId","data-v-1d4d18c7"]]);export{U as default};
